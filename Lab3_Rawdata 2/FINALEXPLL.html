<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DATAEXPLORATION</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="FINALEXPLL_files/libs/clipboard/clipboard.min.js"></script>
<script src="FINALEXPLL_files/libs/quarto-html/quarto.js"></script>
<script src="FINALEXPLL_files/libs/quarto-html/popper.min.js"></script>
<script src="FINALEXPLL_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="FINALEXPLL_files/libs/quarto-html/anchor.min.js"></script>
<link href="FINALEXPLL_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="FINALEXPLL_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="FINALEXPLL_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="FINALEXPLL_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="FINALEXPLL_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DATAEXPLORATION</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Lucian Lang : Data Exploration Assignment</p>
<p>Nicolas Huntington Klein</p>
<p>Start with setting the working directory and loading our data files.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">full.names =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "./CollegeScorecardDataDictionary-09-08-2015.csv"
 [2] "./FINALEXPLL_files"                             
 [3] "./FINALEXPLL.html"                              
 [4] "./FINALEXPLL.qmd"                               
 [5] "./FINALEXPLL.rmarkdown"                         
 [6] "./id_name_link.csv"                             
 [7] "./Lab3_Rawdata 2.Rproj"                         
 [8] "./Most+Recent+Cohorts+(Scorecard+Elements).csv" 
 [9] "./POtentialData.qmd"                            
[10] "./trends_up_to_finish.csv"                      
[11] "./trends_up_to_inter_1.csv"                     
[12] "./trends_up_to_inter_2.csv"                     
[13] "./trends_up_to_inter_3.csv"                     
[14] "./trends_up_to_inter_4.csv"                     
[15] "./trends_up_to_inter_5.csv"                     
[16] "./trends_up_to_inter_6.csv"                     
[17] "./trends_up_to_UM.csv"                          
[18] "./trends_up_to_UPhoenix.csv"                    
[19] "./trends_up_to_UT.csv"                          
[20] "./trends_up_to_UTMB.csv"                        
[21] "./trends_up_to_Yorktowne.csv"                   </code></pre>
</div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">"trends_up_to"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "./trends_up_to_finish.csv"    "./trends_up_to_inter_1.csv"  
 [3] "./trends_up_to_inter_2.csv"   "./trends_up_to_inter_3.csv"  
 [5] "./trends_up_to_inter_4.csv"   "./trends_up_to_inter_5.csv"  
 [7] "./trends_up_to_inter_6.csv"   "./trends_up_to_UM.csv"       
 [9] "./trends_up_to_UPhoenix.csv"  "./trends_up_to_UT.csv"       
[11] "./trends_up_to_UTMB.csv"      "./trends_up_to_Yorktowne.csv"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>file.list<span class="ot">=</span><span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">"trends_up_to"</span>, <span class="at">full.names =</span> <span class="st">"TRUE"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">import_list</span>(file.list, <span class="at">rbind =</span> <span class="cn">TRUE</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Changing the data to an actual usable Date.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ readr     2.1.4
✔ ggplot2   3.4.1     ✔ stringr   1.5.0
✔ lubridate 1.9.2     ✔ tibble    3.2.1
✔ purrr     1.0.1     ✔ tidyr     1.3.0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">monthorweek =</span> <span class="fu">str_sub</span>(monthorweek, <span class="dv">1</span>, <span class="dv">10</span>))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat<span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">monthorweek =</span> <span class="fu">ymd</span>(monthorweek))</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>dat_month <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">monthorweek =</span> <span class="fu">floor_date</span>(monthorweek, <span class="at">unit =</span> <span class="st">"month"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Changing the Variables types so it is ordered by school name and keyword. Then providing more options to view it by week, month, and year.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>standard_df <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(schname, keyword) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stan_index =</span> (index <span class="sc">-</span> <span class="fu">mean</span>(index))<span class="sc">/</span><span class="fu">sd</span>(index))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Deleting NA's</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>noNAs <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(standard_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Week, Month, Year</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>maindata <span class="ot">&lt;-</span> noNAs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(schname, monthorweek) <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">new_index =</span> <span class="fu">mean</span>(stan_index))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'schname'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
<p>Bringing in the the Scorecard data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>scorecard <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">'Most+Recent+Cohorts+(Scorecard+Elements).csv'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Making all LOWER case</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(scorecard) <span class="ot">&lt;-</span> <span class="fu">tolower</span>(<span class="fu">names</span>(scorecard))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>id_link <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">'id_name_link.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Removing all the duplicate school names to make a unique list.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>id_link <span class="ot">&lt;-</span> id_link <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(schname) <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">n</span>())</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>filtered_id <span class="ot">&lt;-</span> <span class="fu">filter</span>(id_link, n<span class="sc">==</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finalizing and bringing it all together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>id_trends <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(maindata, filtered_id, <span class="at">by =</span> <span class="st">'schname'</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>final_piece <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(id_trends, scorecard, <span class="at">by =</span> <span class="st">'unitid'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Arranging the Data For Analysis</p>
<p>Story: <strong>Among colleges that predominantly grant bachelor’s degrees</strong>, did the release of the Scorecard shift student interest to high-earnings colleges relative to low-earnings ones (as proxied by Google searches for keywords associated with those colleges)?</p>
<p>Adjusting with Median Earnings to help answer research question. Removing all the null values to help regression results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>final_piece <span class="ot">&lt;-</span> <span class="fu">rename</span>(final_piece, <span class="st">'median_earnings'</span> <span class="ot">=</span> <span class="st">'md_earn_wne_p10-reported-earnings'</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">as.numeric</span>(final_piece<span class="sc">$</span>median_earnings), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean(as.numeric(final_piece$median_earnings), na.rm = TRUE): NAs
introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 38194.84</code></pre>
</div>
</div>
<p>We are going to make our cutoff $38,500 for Median Earnings for our analysis.</p>
<p>Here is our analysis data creation. I am setting the data to only data related to 4 year Bachelors Degree Universities to properly answer research question. As well as creating different class levels for our new cutoff.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>analysis_final <span class="ot">&lt;-</span> final_piece <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(schname, monthorweek, new_index, unitid, n, median_earnings, preddeg, locale, grad_debt_mdn_supp) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(preddeg <span class="sc">==</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">high_class =</span> median_earnings <span class="sc">&gt;=</span> <span class="dv">40000</span>, <span class="at">low_class =</span> median_earnings <span class="sc">&lt;=</span> <span class="dv">38000</span>, <span class="at">median_class =</span> median_earnings <span class="sc">&gt;</span> <span class="dv">38000</span> <span class="sc">&amp;</span> median_earnings <span class="sc">&lt;</span> <span class="dv">40000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date_2015 =</span> monthorweek <span class="sc">&gt;</span> <span class="fu">ymd</span>(<span class="st">'2015-09-12'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First Visual</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>analysis_final <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(high_class) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(date_2015)) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(high_class, date_2015) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">new_index =</span> <span class="fu">mean</span>(new_index, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> high_class, <span class="at">y =</span> new_index, <span class="at">fill =</span> date_2015)) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>, <span class="at">position =</span> <span class="st">'dodge'</span>) <span class="sc">+</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Income Class"</span>, <span class="at">y =</span> <span class="st">"Index Placement"</span>, <span class="at">title =</span> <span class="st">'Income Level Index Placement'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'high_class'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="FINALEXPLL_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Using the new variables included to create regression that best supports the shift in student interest in our data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>regression <span class="ot">&lt;-</span> <span class="fu">feols</span>(new_index <span class="sc">~</span> high_class <span class="sc">:</span> date_2015 <span class="sc">+</span> low_class <span class="sc">:</span> date_2015 <span class="sc">+</span> monthorweek, <span class="at">vcov =</span> <span class="st">'hetero'</span>, <span class="at">data =</span> analysis_final)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>The variable 'high_classTRUE:date_2015TRUE' has been removed because of collinearity (see $collin.var).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">etable</span>(regression)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                          regression
Dependent Var.:                            new_index
                                                    
Constant                           12.67*** (0.1092)
monthorweek                      -0.0008*** (6.5e-6)
high_classFALSE x date_2015FALSE -0.1579*** (0.0080)
high_classTRUE x date_2015FALSE  -0.1383*** (0.0060)
high_classFALSE x date_2015TRUE   0.0901*** (0.0125)
date_2015FALSE x low_classTRUE       0.0011 (0.0064)
date_2015TRUE x low_classTRUE       -0.0052 (0.0132)
________________________________ ___________________
S.E. type                        Heteroskedast.-rob.
Observations                                 267,632
R2                                           0.06598
Adj. R2                                      0.06596
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>2.) Final Write Up</p>
<p>The analysis conducted was performed under the research of finding out if there was a interest shift in college’s after the Scorecard was released in the year of 2015. After review, we data cleaned by adjusting the file package provided. We combined the data trends by using the pattern function to bind them all together. We adjusted this combined data set by removing NA’s in certain sections, developing a column to allow us to understand what data is from 2015. And lastly, by conducting a code, we were able to create unique values from colleges so we do not see repeats. After joining the scorecard and Google trends results, we combined by using ‘unitid’ and ‘schname’. With this we now have a full data set with the grading system, new index results, and all the variables for a decision.</p>
<p>Next, we slimmed this large data set by selecting variables and setting certain restrictions, on the new clean dataset. It holds variables we believe have an effect and time change from the release of the scorecard. We included ‘locale’, which allows us to see the locations that the colleges are from. We selected median earnings, and developed a high class and low class column to help our category’s. We used the cutoff 38,500 too determine high class and low class, as we selected the mean of all the median earnings. Lastly, we selected preedeg as well, to ensure we are only using data from schools that fulfill 4 year bachelors degrees, as that is what the research question asks of us.</p>
<p>With this data set, we want to see the index change over time with a bar graph. This graph shows the split between high class and low class. With the Blue representing TRUE, meaning that the data reflected is showing a change in index. For the Red, it represents FALSE, which is the reflecting the data that has a positive index score. We observe that the higher class, which is above $38,500 has much more data after the time split. Meaning over time, their has been a change/variable impact from the scorecard data since being released.</p>
<p>Next, our regression result is notifying us what correlation has had the strongest effect on the time change of data over time. We tried multiple tests, and see that the locale function has a solid track of reasoning. We looked for the reasoning behind this and it states by the scorecard descriptions. We see a strong correlation of change in the Locale “32” and “31” zones. Both of these are listed as “Towns”, one being distant and the other being remote. This states that, since the scorecard release, we have seen a shift of interest in student research for universities offering 4 year bachelors degrees, within 5-25 miles of a urbanized area. To answer or question, we have seen a shift in student interest based off the regression results. After dividing the class incomes, we noticed over time a large shift in interest, and this mainly was described through the location of Universities, and the google keyword trends centralizing the information in this area.</p>
<p>In all, we can conclude that from this information, a real shift of ‘interest’ was developed after the release of the college scorecard. This is proven with our regression results that we finalized. After developing the categories of high class and low class, we were able to see the change in time with regression and the scorecard release variables. With a Constant of 12.67, and R2 of .065. Although the connection is not the strongest, we know for every unit increase in our date (monthorweek), we see a decrease in index of .0008 units, which shows a shift in change since the score card release. Location is a proven factor from previous tests, but the median earnings has also disclosed that their is a small shift as well, representing the possibility of changes in admittance. In conclusion, we can confirm a shift of interest since the release of the College Scorecard, with the google trends data obtained.</p>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>